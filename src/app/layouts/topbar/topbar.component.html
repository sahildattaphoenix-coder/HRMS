<header class="header d-flex justify-content-between align-items-center px-4 py-3 bg-white">
  <div class="left d-flex align-items-center gap-3">
    <!-- Hamburger Menu Button (Mobile/Tablet Only) -->
    <button class="btn btn-link p-0 mobile-menu-toggle text-dark" (click)="onToggleSidebar()" aria-label="Toggle Menu">
      <i class="bi bi-list"></i>
    </button>
    
    <h4 class="greeting-text m-0" *ngIf="authService.currentUser$ | async as user">
        {{ getGreeting() }}, <span class="username">{{ user.name.split(' ')[0].toLowerCase() }}</span>
    </h4>
  </div>

  <div class="right d-flex align-items-center gap-4">
    <div class="search-box d-none d-md-flex">
        <i class="bi bi-search"></i>
        <input type="text" placeholder="Search anythinks">
    </div>

    <div class="header-date d-none d-sm-flex flex-column text-end">
        <span class="day fw-bold small text-dark">{{ currentDate | date: 'EEEE' }}</span>
        <span class="full-date smallest text-muted">{{ currentDate | date: 'dd/MMM/yyyy' }}</span>
    </div>

    <div class="user-pill d-flex align-items-center gap-2 cursor-pointer position-relative" 
         *ngIf="authService.currentUser$ | async as user" (click)="toggleDropdown($event)">
        <app-avatar [name]="user.name" [imageUrl]="user.img" [size]="35" styleClass="rounded-circle shadow-xs cursor-pointer"></app-avatar>
        <i class="bi bi-chevron-down small text-muted"></i>

        <!-- Dropdown Menu -->
        <div class="dropdown-menu-custom shadow-lg rounded-4 p-2 border-0" [class.show]="showDropdown">
            <div class="px-3 py-2 border-bottom mb-2">
                <div class="fw-bold small text-dark">{{ user.name }}</div>
                <div class="smallest text-muted">{{ user.email }}</div>
            </div>
            <a class="dropdown-item d-flex align-items-center gap-2 rounded-3 py-2" routerLink="/employee/profile" (click)="showDropdown = false">
                <i class="bi bi-person text-primary"></i>
                <span class="small">My Profile</span>
            </a>
            <a class="dropdown-item d-flex align-items-center gap-2 rounded-3 py-2 text-danger" (click)="authService.logout()">
                <i class="bi bi-box-arrow-left"></i>
                <span class="small fw-bold">Logout</span>
            </a>
        </div>
    </div>
  </div>
</header>
